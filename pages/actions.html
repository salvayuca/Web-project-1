<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Actions</title>
    <link rel="shortcut icon" href="../assets/img/logo.png" />
    <!-- CSS Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <!-- CSS Internal -->
    <link rel="stylesheet" href="../assets/css/actions.css" />
  </head>

  <body>
    <!-- Navbar -->
    <nav
      class="navbar navbar-expand-lg navbar-light bg-light shadow-sm fixed-top"
    >
      <div class="container">
        <div class="logo text-uppercase">
          <a class="navbar-brand" href="../index.html#home"
            ><img src="../assets/img/logo.png" alt="earth" />Green Warrior</a
          >
        </div>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse text-center"
          id="navbarSupportedContent"
        >
          <ul class="navbar-nav container-fluid justify-content-end">
            <li class="nav-item">
              <a class="nav-link" href="../index.html#home">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../index.html#about">About Us</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../index.html#gallery">Gallery</a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link active"
                aria-current="page"
                href="./actions.html"
                >Actions</a
              >
            </li>
          </ul>
          <div id="div-username">
            <span id="username"
              ><a
                class="btn btn-outline-success navbar-login"
                href="../pages/login.html"
                >Login</a
              ></span
            >
          </div>
        </div>
      </div>
    </nav>

    <!-- paralax -->
    <div class="paralax">
      <div id="box1">
        <h1>ACTION</h1>
        <p>
          Ayo jadi Green Warrior dengan mengikuti berbagai program action untuk
          bumi yang lebih baik.
        </p>
      </div>
    </div>

    <!-- Item Join Action -->
    <div class="container">
      <div id="cardActions" class="row mt-5 gx-5"></div>
    </div>

    <!-- Footer -->
    <section class="last text-center">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
        <path
          fill="#5a8653"
          fill-opacity="1"
          d="M0,160L30,160C60,160,120,160,180,154.7C240,149,300,139,360,144C420,149,480,171,540,160C600,149,660,107,720,106.7C780,107,840,149,900,170.7C960,192,1020,192,1080,186.7C1140,181,1200,171,1260,170.7C1320,171,1380,181,1410,186.7L1440,192L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"
        ></path>
      </svg>
      <div class="footer">
        <div class="container">
          <div class="row gx-5 pt-4">
            <!-- Logo -->
            <div class="col-md-4 logo">
              <a class="navbar-brand" href="#home"
                ><img src="../assets/img/logo.png" alt="earth" />Green
                Warrior</a
              >
            </div>
            <!-- About Us -->
            <div class="col-6 col-md-4" id="about-us">
              <h6 class="text-center fw-bolder">About Us</h6>
              <p>
                Green Warrior adalah website yang disediakan untuk anak muda
                agar lebih peduli dengan lingkungan
              </p>
            </div>
            <!-- Follow Us -->
            <div class="col-6 col-md-4" id="find-us">
              <h6 class="text-center fw-bolder">Find Us At</h6>
              <div class="icons d-flex justify-content-center">
                <img src="../assets/img/landing-page/facebook.png" alt="fb" />

                <img src="../assets/img/landing-page/twitter.png" alt="tw" />

                <img src="../assets/img/landing-page/instagram.png" alt="ig" />
              </div>
            </div>
          </div>
        </div>
        <hr />
        <div class="copyright text-center">
          <p class="mb-0 pb-3">
            Copyright Â© Green Warrior Indonesia 2021. All rights reserved.
          </p>
        </div>
      </div>
    </section>

    <!-- JS Bootstrap -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
      integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
      crossorigin="anonymous"
    ></script>

    <!-- JS Internal -->
    <script type="module">
      import data from "../assets/js/dummy_data.js";

      // Username
      const elUsername = document.querySelector("#username");
      const username = localStorage.getItem("username");

      if (username) {
        elUsername.innerHTML = username;
      }

      data.forEach((detail) => {
        const dataJoin = localStorage.getItem("data_" + detail.id);
        let isJoined = false;
        if (dataJoin) {
          const arrDataJoin = JSON.parse(dataJoin);
          arrDataJoin.forEach((user) => {
            if (user.username === username) {
              isJoined = true;
            }
          });
        }
        const elRow = document.getElementById("cardActions");

        elRow.insertAdjacentHTML(
          "beforeend",

          `<div class="col-md-4 px-5">
          <div class="card shadow-sm">
            <img
              src=${detail?.image_url}
              class="card-img-top rounded-top"
              alt="image"
            />
            <div class="card-body mx-3 mt-md-2">
              <h5 class="card-title text-capitalize">${detail?.title}</h5>
              <p class="card-text">${detail?.organization}</p>
                <div class="schedule">
                  <div class="time">
                    <img src="../assets/img/landing-page/hourglass.png" />
                    <small class="text-muted">${detail?.schedule}</small>
                  </div>
                </div>
              <div class="button text-center">
                ${
                  isJoined
                    ? `<p class="btn btn-success disabled" role="button" aria-disabled="true">JOIN</p>`
                    : `<a
                      onclick="goDetail(${detail?.id})"
                      class="btn btn-success"
                    >
                      JOIN
                    </a>`
                }
              </div>
            </div>
          </div>
        </div>`
        );
      });
    </script>
    <script>
      function goDetail(id) {
        localStorage.setItem("id", id);
        window.location.href = "./detail.html";
      }
    </script>
  </body>
</html>
